<ion-header>
  <ion-toolbar>
    <ion-title>Actividad 5</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <ion-button expand="block" (click)="requestPermissions()">
    Solicitar permisos
  </ion-button>

  <p *ngIf="permissionsGranted">Permisos concedidos ✅</p>

  <video #video autoplay></video>

  <ion-button expand="block" (click)="takePhoto()">
    Tomar foto
  </ion-button>

  <img *ngIf="photo" [src]="photo">

  <ion-button expand="block" (click)="recordAudio()">
    Grabar audio (5 segundos)
  </ion-button>

  <audio *ngIf="audioUrl" [src]="audioUrl" controls></audio>

  <ion-item>
    <ion-input [(ngModel)]="text" placeholder="Descripción de la captura"></ion-input>
  </ion-item>

  <ion-button expand="block" (click)="analyzeText()">
    Analizar texto
  </ion-button>

  <ion-spinner *ngIf="loading"></ion-spinner>

  <div *ngIf="sentimentResult">
    <p><strong>Sentimiento:</strong> {{ sentimentResult.label }}</p>
    <p><strong>Confianza:</strong> {{ sentimentResult.score | number:'1.2-2' }}</p>
  </div>

</ion-content>
